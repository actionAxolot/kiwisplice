{% extends "home/base.html" %}
{% load count_status %}
{% load clienttags %}

{% block sub_content %}
<div class="container-fluid">
  <div class="row-fluid">
    <div class="span12">
      <div class="alert alert-info">
	Recuerde los botones mostrados arriba. Con ellos puede navegar al rededor de esta sección
	<a href="#" data-dismiss="alert" class="close">×</a>
      </div>
      <div class="widget-box">
	<div class="widget-title">
	  <ul class="nav nav-tabs">
	    <li class="active"><a data-toggle="tab" href="#tab1">Resumen</a></li>
	  </ul>
	</div>
	<div class="widget-content tab-content">
	  {# Render a table with every item in the object available #}
	  <div class="tab-pane active" id="tab1">
	    <table class="table table-bordered">
	      <thead>
		<tr>
		  <th>Tipo de visitante</th>
		  <th>{{ months.0 }}</th>
		  <th>{{ months.1 }}</th>
		  <th>{{ months.2 }}</th>
		  <th>{{ months.3 }}</th>
		  <th>{{ months.4 }}</th>
		  <th>{{ months.5 }}</th>
		  <th>{{ months.6 }}</th>
		  <th>{{ months.7 }}</th>
		  <th>Total</th>
		</tr>
	      </thead>
	      <tbody>
		 <tr>
		   <td>Clientes (Sin firmar)</td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.0 }}" data-type="client">{{ object_list.clientes|count_by_month_clients:months.0 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.1 }}" data-type="client">{{ object_list.clientes|count_by_month_clients:months.1 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.2 }}" data-type="client">{{ object_list.clientes|count_by_month_clients:months.2 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.3 }}" data-type="client">{{ object_list.clientes|count_by_month_clients:months.3 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.4 }}" data-type="client">{{ object_list.clientes|count_by_month_clients:months.4 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.5 }}" data-type="client">{{ object_list.clientes|count_by_month_clients:months.5 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.6 }}" data-type="client">{{ object_list.clientes|count_by_month_clients:months.6 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.7 }}" data-type="client">{{ object_list.clientes|count_by_month_clients:months.7 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-type="client">{{ object_list.clientes|count_by_month_clients:months }}</td>
		 </tr>
		 <tr>
		   <td>Prospecciones</td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.0 }}" data-type="prospection">{{ object_list.prospecciones|count_by_month_prospections:months.0 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.1 }}" data-type="prospection">{{ object_list.prospecciones|count_by_month_prospections:months.1 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.2 }}" data-type="prospection">{{ object_list.prospecciones|count_by_month_prospections:months.2 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.3 }}" data-type="prospection">{{ object_list.prospecciones|count_by_month_prospections:months.3 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.4 }}" data-type="prospection">{{ object_list.prospecciones|count_by_month_prospections:months.4 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.5 }}" data-type="prospection">{{ object_list.prospecciones|count_by_month_prospections:months.5 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.6 }}" data-type="prospection">{{ object_list.prospecciones|count_by_month_prospections:months.6 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-month="{{ months.7 }}" data-type="prospection">{{ object_list.prospecciones|count_by_month_prospections:months.7 }}</a></td>
		   <td><a class="render_table" href="{% url home_ajax %}" data-type="prospection">{{ object_list.prospecciones|count_by_month_prospections:months }}</td>
		 </tr>
	      </tbody>
	    </table>
	  </div>
	</div>
      </div>
      
      <div id="client-info" class="modal hide" style="display: none;">
	<div class="modal-header">
	  <button data-dismiss="modal" class="close" type="button">×</button>
	  <h3>Detalle te clientes</h3>
	</div>
	<div id="client-info-table" class="modal-body">
	  <div class="progress progress-striped progress-danger active">
	    <div style="width: 100%;" class="bar"></div>
	  </div>
	</div>
      </div>				
    </div>
  </div>
</div>
{% endblock %}

{% block extrascripts %}
<script type="text/javascript" src="{{ STATIC_URL }}js/home/dashboard.js"></script>
{% endblock extrascripts %}
